{"version":3,"file":"187.js","mappings":"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","sources":["./src/app/feature/auth/ui/login-page.component.ts","./src/app/feature/auth/ui/login-page.component.html"],"sourcesContent":["import { NgIf } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, computed, inject, signal } from '@angular/core';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router, RouterLink } from '@angular/router';\n\nimport { AuthFacade } from '../data-access/auth.facade';\n\n@Component({\n    selector: 'dr-login-page',\n    standalone: true,\n    imports: [ReactiveFormsModule, RouterLink, NgIf],\n    templateUrl: './login-page.component.html',\n    styleUrls: ['./login-page.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LoginPageComponent {\n  private readonly fb = inject(FormBuilder);\n  private readonly auth = inject(AuthFacade);\n  private readonly router = inject(Router);\n\n  readonly status = signal<'idle' | 'pending' | 'success' | 'error'>('idle');\n  readonly errorMessage = computed(() => this.auth.lastError());\n  private readonly submitted = signal(false);\n\n  readonly form = this.fb.nonNullable.group({\n    email: ['', [Validators.required, Validators.email]],\n    password: ['', [Validators.required, Validators.minLength(6)]],\n    remember: [false]\n  });\n\n  submit(): void {\n    if (this.form.invalid || this.status() === 'pending') {\n      this.submitted.set(true);\n      this.form.markAllAsTouched();\n      return;\n    }\n    this.submitted.set(true);\n    this.status.set('pending');\n    this.auth.login(this.form.getRawValue()).subscribe({\n      next: () => {\n        this.status.set('success');\n        this.router.navigate(['/search']);\n      },\n      error: () => {\n        this.status.set('error');\n      }\n    });\n  }\n\n  isEmailInvalid(): boolean {\n    const control = this.form.controls.email;\n    return control.invalid && (control.dirty || control.touched || this.submitted());\n  }\n\n  isPasswordInvalid(): boolean {\n    const control = this.form.controls.password;\n    return control.invalid && (control.dirty || control.touched || this.submitted());\n  }\n\n  showValidationErrors(): boolean {\n    return this.submitted() && this.form.invalid;\n  }\n\n  openRecovery(): void {\n    this.router.navigate(['/auth/recover']);\n  }\n}\n","<section class=\"auth auth--login\">\n  <div class=\"auth__frame\">\n    <img src=\"assets/figma/login/background-large.png\" alt=\"\" class=\"auth__frame-bg\" aria-hidden=\"true\" />\n    <div class=\"auth__card\">\n      <div class=\"auth__card-map\" aria-hidden=\"true\"></div>\n\n      <div class=\"auth__providers\">\n        <button type=\"button\" class=\"auth__provider\" aria-label=\"Sign in with Google\">\n          <img src=\"assets/figma/login/google.png\" alt=\"\" class=\"auth__provider-icon\" />\n          <span class=\"auth__provider-label\">Sign in</span>\n        </button>\n        <button type=\"button\" class=\"auth__provider\" aria-label=\"Sign in with Apple\">\n          <img src=\"assets/figma/login/apple.png\" alt=\"\" class=\"auth__provider-icon\" />\n          <span class=\"auth__provider-label\">Sign in</span>\n        </button>\n      </div>\n\n      <div class=\"auth__divider\" aria-hidden=\"true\">\n        <span class=\"auth__divider-line\"></span>\n        <span class=\"auth__divider-label\">OR</span>\n        <span class=\"auth__divider-line\"></span>\n      </div>\n\n      <form [formGroup]=\"form\" (ngSubmit)=\"submit()\" class=\"auth__form\" novalidate>\n        <p class=\"auth__form-error\" *ngIf=\"showValidationErrors()\">Please enter a valid email and password.</p>\n\n        <label class=\"auth__field auth__field--email\" [class.auth__field--invalid]=\"isEmailInvalid()\">\n          <input\n            type=\"email\"\n            formControlName=\"email\"\n            placeholder=\"Email address\"\n            autocomplete=\"email\"\n            [attr.aria-invalid]=\"isEmailInvalid()\"\n            aria-describedby=\"auth-email-error\"\n          />\n        </label>\n\n        <label class=\"auth__field auth__field--password\" [class.auth__field--invalid]=\"isPasswordInvalid()\">\n          <input\n            type=\"password\"\n            formControlName=\"password\"\n            placeholder=\"Password\"\n            autocomplete=\"current-password\"\n            [attr.aria-invalid]=\"isPasswordInvalid()\"\n            aria-describedby=\"auth-password-error\"\n          />\n          <button type=\"button\" class=\"auth__field-help\" aria-label=\"Forgot password?\" (click)=\"openRecovery()\">\n            <img src=\"assets/figma/login/help.png\" alt=\"\" />\n          </button>\n        </label>\n\n        <button class=\"auth__submit\" type=\"submit\" [disabled]=\"status() === 'pending'\">\n          <span>{{ status() === 'pending' ? 'Signing in…' : 'Sign in to DocRoster' }}</span>\n        </button>\n\n        <p id=\"auth-email-error\" class=\"auth__field-message\" *ngIf=\"isEmailInvalid()\">Enter a valid email.</p>\n        <p id=\"auth-password-error\" class=\"auth__field-message auth__field-message--password\" *ngIf=\"isPasswordInvalid()\">Password must be at least 6 characters.</p>\n\n        <p class=\"auth__form-status auth__form-status--error\" *ngIf=\"status() === 'error'\">{{ errorMessage() }}</p>\n        <p class=\"auth__form-status auth__form-status--success\" *ngIf=\"status() === 'success'\">Signed in — redirecting…</p>\n      </form>\n\n      <p class=\"auth__footnote\">\n        <span>Don’t have an account? </span>\n        <a routerLink=\"/auth/register\">Register now</a>\n      </p>\n    </div>\n  </div>\n</section>\n"],"names":["NgIf","computed","inject","signal","FormBuilder","ReactiveFormsModule","Validators","Router","RouterLink","AuthFacade","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","errorMessage","LoginPageComponent","constructor","fb","auth","router","status","ngDevMode","debugName","lastError","submitted","form","nonNullable","group","email","required","password","minLength","remember","submit","invalid","set","markAllAsTouched","login","getRawValue","subscribe","next","navigate","error","isEmailInvalid","control","controls","dirty","touched","isPasswordInvalid","showValidationErrors","openRecovery","_","_staticBlock","selectors","decls","vars","consts","template","LoginPageComponent_Template","rf","ctx","ɵɵelement","ɵɵlistener","LoginPageComponent_Template_form_ngSubmit_19_listener","ɵɵtemplate","LoginPageComponent_p_20_Template","LoginPageComponent_Template_button_click_25_listener","LoginPageComponent_p_30_Template","LoginPageComponent_p_31_Template","LoginPageComponent_p_32_Template","LoginPageComponent_p_33_Template","ɵɵproperty","ɵɵclassProp","i1","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}