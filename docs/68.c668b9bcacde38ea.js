"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[68],{68:(R,g,i)=>{i.r(g),i.d(g,{OrganizationAssessmentsPageComponent:()=>y});var c=i(2200),m=i(2615),p=i(8738),d=i(6354),l=i(5558),s=i(3664);function f(n,e){if(1&n&&(s.j41(0,"li"),s.EFF(1),s.k0s()),2&n){const r=e.$implicit;s.R7$(),s.JRh(r)}}let _=(()=>{var n;class e{static#s=n=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275cmp=s.VBU({type:e,selectors:[["dr-assessment-card"]],inputs:{assessment:"assessment"},decls:22,vars:10,consts:[[1,"assessment-card","surface"],[1,"assessment-card__header"],[1,"assessment-card__progress"],[1,"assessment-card__meta"],[1,"assessment-card__actions"],[4,"ngFor","ngForOf"]],template:function(a,o){1&a&&(s.j41(0,"article",0)(1,"header",1)(2,"div")(3,"h3"),s.EFF(4),s.k0s(),s.j41(5,"p"),s.EFF(6),s.k0s()(),s.j41(7,"div",2)(8,"span"),s.EFF(9),s.k0s(),s.j41(10,"small"),s.EFF(11,"Progress"),s.k0s()()(),s.j41(12,"div",3)(13,"span"),s.EFF(14),s.k0s(),s.j41(15,"span"),s.EFF(16),s.k0s(),s.j41(17,"span"),s.EFF(18),s.nI1(19,"date"),s.k0s()(),s.j41(20,"ul",4),s.DNE(21,f,2,1,"li",5),s.k0s()()),2&a&&(s.R7$(4),s.JRh(o.assessment.title),s.R7$(2),s.JRh(o.assessment.summary),s.R7$(3),s.SpI("",o.assessment.progress,"%"),s.R7$(5),s.JRh(o.assessment.category),s.R7$(2),s.SpI("Reviewer \xb7 ",o.assessment.reviewer),s.R7$(2),s.SpI("Updated ",s.i5U(19,7,o.assessment.updatedAt,"mediumDate")),s.R7$(3),s.Y8G("ngForOf",o.assessment.actions))},dependencies:[c.Sq,c.vh],styles:['@charset "UTF-8";.assessment-card[_ngcontent-%COMP%]{display:grid;gap:1rem;padding:clamp(1.5rem,3vw,2.25rem)}.assessment-card__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem}.assessment-card__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.2rem}.assessment-card__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#6d7ba1;line-height:1.6}.assessment-card__progress[_ngcontent-%COMP%]{display:grid;place-items:center;min-width:96px;border-radius:12px;background:#3d7aff14;padding:.75rem 1rem}.assessment-card__progress[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;font-size:1.4rem}.assessment-card__progress[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#6d7ba1}.assessment-card__meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;color:#6d7ba1;font-size:.95rem}.assessment-card__actions[_ngcontent-%COMP%]{padding:0;margin:0;list-style:none;display:grid;gap:.5rem}.assessment-card__actions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{position:relative;padding-left:1.25rem;color:#0a1748}.assessment-card__actions[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";position:absolute;left:0;color:#3d7aff}'],changeDetection:0}))}return n(),e})();var u=i(9719),h=i(4572),C=i(6458);let O=(()=>{var n;class e{constructor(){this.api=(0,m.WQX)(C.n)}getOrganization(t){return this.api.getOrganizations().pipe((0,d.T)(a=>a.find(o=>o.id===t)))}getAssessments(t){return this.api.getAssessmentsByOrganization(t)}getOrganizationContext(t){return(0,h.z)([this.getOrganization(t),this.getAssessments(t)]).pipe((0,d.T)(([a,o])=>({organization:a,assessments:o})))}static#s=n=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275prov=m.jDH({token:e,factory:e.\u0275fac,providedIn:"root"}))}return n(),e})();function F(n,e){1&n&&s.nrm(0,"dr-assessment-card",10),2&n&&s.Y8G("assessment",e.$implicit)}function v(n,e){if(1&n&&(s.j41(0,"div",5),s.nrm(1,"dr-section-header",6),s.j41(2,"div",7)(3,"span"),s.EFF(4),s.k0s(),s.j41(5,"span"),s.EFF(6),s.k0s()(),s.j41(7,"div",8),s.DNE(8,F,1,1,"dr-assessment-card",9),s.k0s()()),2&n){const r=e.ngIf,t=s.XpG().ngIf;s.R7$(),s.Y8G("title",r.name)("subtitle",r.focusAreas.join(" \xb7 ")),s.R7$(3),s.JRh(r.location),s.R7$(2),s.JRh(r.accreditationLevel),s.R7$(2),s.Y8G("ngForOf",t.assessments)}}function P(n,e){if(1&n&&(s.j41(0,"section",3),s.DNE(1,v,9,5,"div",4),s.k0s()),2&n){const r=e.ngIf;s.XpG();const t=s.sdS(5);s.R7$(),s.Y8G("ngIf",r.organization)("ngIfElse",t)}}function z(n,e){1&n&&(s.j41(0,"div",11)(1,"p"),s.EFF(2,"Loading organization\u2026"),s.k0s()())}function M(n,e){1&n&&(s.j41(0,"div",11)(1,"p"),s.EFF(2,"Organization not found. Check the DocRoster network map."),s.k0s()())}let y=(()=>{var n;class e{constructor(){this.route=(0,m.WQX)(p.nX),this.facade=(0,m.WQX)(O),this.context$=this.route.paramMap.pipe((0,d.T)(t=>t.get("id")??""),(0,l.n)(t=>this.facade.getOrganizationContext(t)))}static#s=n=()=>(this.\u0275fac=function(a){return new(a||e)},this.\u0275cmp=s.VBU({type:e,selectors:[["dr-organization-assessments-page"]],decls:6,vars:4,consts:[["loading",""],["notFound",""],["class","assessments section",4,"ngIf","ngIfElse"],[1,"assessments","section"],["class","container",4,"ngIf","ngIfElse"],[1,"container"],["badge","Organization assessments",3,"title","subtitle"],[1,"assessments__meta"],[1,"assessments__grid"],[3,"assessment",4,"ngFor","ngForOf"],[3,"assessment"],[1,"container","section"]],template:function(a,o){if(1&a&&(s.DNE(0,P,2,2,"section",2),s.nI1(1,"async"),s.DNE(2,z,3,0,"ng-template",null,0,s.C5r)(4,M,3,0,"ng-template",null,1,s.C5r)),2&a){const E=s.sdS(3);s.Y8G("ngIf",s.bMT(1,2,o.context$))("ngIfElse",E)}},dependencies:[c.bT,c.Sq,u.U,_,c.Jj],styles:[".assessments__meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;color:#6d7ba1;margin-top:.75rem}.assessments__grid[_ngcontent-%COMP%]{margin-top:1.5rem;display:grid;gap:1.5rem;grid-template-columns:repeat(auto-fit,minmax(320px,1fr))}"],changeDetection:0}))}return n(),e})()}}]);