{"version":3,"file":"768.js","mappings":"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","sources":["./src/app/feature/auth/ui/recover-page.component.ts","./src/app/feature/auth/ui/recover-page.component.html"],"sourcesContent":["import { NgIf } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, inject, signal } from '@angular/core';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\n\nimport { AuthFacade } from '../data-access/auth.facade';\n\n@Component({\n  selector: 'dr-recover-page',\n  standalone: true,\n  imports: [ReactiveFormsModule, RouterLink, NgIf],\n  templateUrl: './recover-page.component.html',\n  styleUrls: ['./recover-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RecoverPageComponent {\n  private readonly fb = inject(FormBuilder);\n  private readonly auth = inject(AuthFacade);\n\n  readonly status = signal<'idle' | 'pending' | 'success' | 'error'>('idle');\n  readonly form = this.fb.nonNullable.group({\n    email: ['', [Validators.required, Validators.email]]\n  });\n  readonly message = signal<string>('');\n\n  submit(): void {\n    if (this.form.invalid || this.status() === 'pending') {\n      this.form.markAllAsTouched();\n      return;\n    }\n\n    this.status.set('pending');\n    this.auth.recover(this.form.getRawValue()).subscribe({\n      next: (result) => {\n        this.status.set('success');\n        this.message.set(`Recovery email sent to ${result.email}`);\n      },\n      error: (error: Error) => {\n        this.status.set('error');\n        this.message.set(error.message);\n      }\n    });\n  }\n}\n","<section class=\"auth section\">\n  <div class=\"container auth__container\">\n    <h1>Recover your access</h1>\n    <p class=\"auth__lead\">Enter the email you use for DocRoster to receive recovery instructions.</p>\n\n    <form [formGroup]=\"form\" (ngSubmit)=\"submit()\" class=\"auth__form\">\n      <label>\n        Email address\n        <input type=\"email\" formControlName=\"email\" placeholder=\"you@example.com\" />\n      </label>\n      <button class=\"button\" type=\"submit\" [disabled]=\"status() === 'pending'\">\n        {{ status() === 'pending' ? 'Sending…' : 'Send recovery link' }}\n      </button>\n      <p class=\"auth__success\" *ngIf=\"status() === 'success'\">{{ message() }}</p>\n      <p class=\"auth__error\" *ngIf=\"status() === 'error'\">{{ message() }}</p>\n    </form>\n\n    <div class=\"auth__links\">\n      <a routerLink=\"/auth/login\">Return to sign in</a>\n    </div>\n  </div>\n</section>\n"],"names":["NgIf","inject","signal","FormBuilder","ReactiveFormsModule","Validators","RouterLink","AuthFacade","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","message","RecoverPageComponent","constructor","fb","auth","status","form","nonNullable","group","email","required","submit","invalid","markAllAsTouched","set","recover","getRawValue","subscribe","next","result","error","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","RecoverPageComponent_Template","rf","ctx","ɵɵlistener","RecoverPageComponent_Template_form_ngSubmit_6_listener","ɵɵelement","ɵɵtemplate","RecoverPageComponent_p_12_Template","RecoverPageComponent_p_13_Template","ɵɵproperty","ɵɵtextInterpolate1","i1","ɵNgNoValidate","DefaultValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}