"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[465],{6465:(P,i,a)=>{a.r(i),a.d(i,{UploadPageComponent:()=>C});var p=a(177),t=a(4438),o=a(4341),d=a(9719),u=a(8141),g=a(980),m=a(4355);let c=(()=>{class e{constructor(){this.http=(0,t.WQX)(m.v),this.progressSignal=(0,t.vPA)(0),this.uploadingSignal=(0,t.vPA)(!1),this.progress=(0,t.EWP)(()=>this.progressSignal()),this.isUploading=(0,t.EWP)(()=>this.uploadingSignal())}upload(s){return this.uploadingSignal.set(!0),this.progressSignal.set(30),this.http.mutate(()=>(this.progressSignal.set(85),{id:`upload-${crypto.randomUUID()}`,nextStep:`Our clinical review team will audit ${s.title} and structure the submission.`,eta:"24 business hours"}),450).pipe((0,u.M)(()=>this.progressSignal.set(100)),(0,g.j)(()=>this.uploadingSignal.set(!1)))}reset(){this.progressSignal.set(0),this.uploadingSignal.set(!1)}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function f(e,l){if(1&e&&(t.j41(0,"div",13)(1,"span"),t.EFF(2),t.k0s()()),2&e){const s=t.XpG();t.R7$(2),t.SpI("Progress: ",s.progress(),"%")}}function h(e,l){if(1&e&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&e){const s=t.XpG();t.R7$(),t.JRh(s.result())}}function b(e,l){if(1&e&&(t.j41(0,"p",15),t.EFF(1),t.k0s()),2&e){const s=t.XpG();t.R7$(),t.JRh(s.result())}}let C=(()=>{class e{constructor(){this.fb=(0,t.WQX)(o.ok),this.facade=(0,t.WQX)(c),this.form=this.fb.nonNullable.group({title:["",[o.k0.required,o.k0.minLength(4)]],organization:["",o.k0.required],category:["",o.k0.required],summary:["",[o.k0.required,o.k0.minLength(12)]],fileName:["",o.k0.required]}),this.status=(0,t.vPA)("idle"),this.progress=this.facade.progress,this.isUploading=this.facade.isUploading,this.result=(0,t.vPA)(null)}submit(){this.form.invalid||"uploading"===this.status()?this.form.markAllAsTouched():(this.status.set("uploading"),this.facade.upload(this.form.getRawValue()).subscribe({next:s=>{this.status.set("complete"),this.result.set(`Submission ${s.id} queued \xb7 ${s.nextStep} (ETA ${s.eta})`),this.form.reset({title:"",organization:"",category:"",summary:"",fileName:""})},error:s=>{this.status.set("error"),this.result.set(s.message)}}))}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["dr-upload-page"]],standalone:!0,features:[t.aNF],decls:24,vars:6,consts:[[1,"upload","section"],[1,"container"],["title","Upload organization assessments","subtitle","Share structured assessments, readiness scans or checklists with the DocRoster review team.","badge","Uploader"],[1,"upload__form",3,"ngSubmit","formGroup"],["type","text","formControlName","title","placeholder","Northstar Quality Sprint"],["type","text","formControlName","organization","placeholder","Northstar Health Alliance"],["type","text","formControlName","category","placeholder","Care coordination"],["formControlName","summary","rows","4","placeholder","Outline the goal, scope and next actions"],["type","text","formControlName","fileName","placeholder","assessment.pdf"],["type","submit",1,"button",3,"disabled"],["class","upload__progress",4,"ngIf"],["class","upload__message",4,"ngIf"],["class","upload__error",4,"ngIf"],[1,"upload__progress"],[1,"upload__message"],[1,"upload__error"]],template:function(n,r){1&n&&(t.j41(0,"section",0)(1,"div",1),t.nrm(2,"dr-section-header",2),t.j41(3,"form",3),t.bIt("ngSubmit",function(){return r.submit()}),t.j41(4,"label"),t.EFF(5," Title "),t.nrm(6,"input",4),t.k0s(),t.j41(7,"label"),t.EFF(8," Organization "),t.nrm(9,"input",5),t.k0s(),t.j41(10,"label"),t.EFF(11," Category "),t.nrm(12,"input",6),t.k0s(),t.j41(13,"label"),t.EFF(14," Summary "),t.nrm(15,"textarea",7),t.k0s(),t.j41(16,"label"),t.EFF(17," File name (mock) "),t.nrm(18,"input",8),t.k0s(),t.j41(19,"button",9),t.EFF(20),t.k0s(),t.DNE(21,f,3,1,"div",10)(22,h,2,1,"p",11)(23,b,2,1,"p",12),t.k0s()()()),2&n&&(t.R7$(3),t.Y8G("formGroup",r.form),t.R7$(16),t.Y8G("disabled",r.isUploading()),t.R7$(),t.SpI(" ",r.isUploading()?"Uploading\u2026":"Submit for review"," "),t.R7$(),t.Y8G("ngIf",r.isUploading()),t.R7$(),t.Y8G("ngIf","complete"===r.status()),t.R7$(),t.Y8G("ngIf","error"===r.status()))},dependencies:[o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,p.bT,d.U],styles:[".upload[_ngcontent-%COMP%]{background:#eef1ff}.upload__form[_ngcontent-%COMP%]{display:grid;gap:1rem;max-width:640px;margin:0 auto}.upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.35rem;font-weight:600}.upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.85rem 1rem;border-radius:12px;border:1px solid rgba(213,220,240,.9);font-size:1rem}.upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.upload__progress[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:.75rem 1rem;color:#3d7aff}.upload__message[_ngcontent-%COMP%]{color:#21b128}.upload__error[_ngcontent-%COMP%]{color:#ff3d00}"],changeDetection:0})}}return e})()}}]);