"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[711],{5711:(E,p,o)=>{o.r(p),o.d(p,{ReviewPageComponent:()=>I});var c=o(177),e=o(4438),l=o(8094),s=o(6354),d=o(5558),v=o(5831);function m(n,a){if(1&n&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&n){const t=a.$implicit;e.R7$(),e.SpI("#",t,"")}}let f=(()=>{class n{static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["dr-review-card"]],inputs:{review:"review"},standalone:!0,features:[e.aNF],decls:14,vars:10,consts:[[1,"review-card","surface"],[1,"review-card__header"],[1,"review-card__date"],[1,"review-card__comment"],[1,"review-card__footer"],["class","review-card__tag",4,"ngFor","ngForOf"],[1,"review-card__tag"]],template:function(i,r){1&i&&(e.j41(0,"article",0)(1,"header",1)(2,"div")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s()(),e.j41(7,"span",2),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"p",3),e.EFF(11),e.k0s(),e.j41(12,"footer",4),e.DNE(13,m,2,1,"span",5),e.k0s()()),2&i&&(e.R7$(4),e.JRh(r.review.headline),e.R7$(2),e.E5c("Rated ",r.review.rating,"/5 by ",r.review.author," \xb7 ",r.review.role,""),e.R7$(2),e.JRh(e.i5U(9,7,r.review.createdAt,"mediumDate")),e.R7$(3),e.JRh(r.review.comment),e.R7$(2),e.Y8G("ngForOf",r.review.tags))},dependencies:[c.vh,c.pM],styles:[".review-card[_ngcontent-%COMP%]{display:grid;gap:1rem;padding:clamp(1.5rem,3vw,2rem)}.review-card__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap}.review-card__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.15rem}.review-card__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.4rem 0 0;color:#6d7ba1}.review-card__date[_ngcontent-%COMP%]{color:#6d7ba1;font-size:.9rem}.review-card__comment[_ngcontent-%COMP%]{margin:0;line-height:1.7;font-size:1.02rem}.review-card__footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.review-card__tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:999px;background:#fff;border:1px solid rgba(213,220,240,.8);font-weight:500;color:#0a1748;transition:background .18s ease-in-out,color .18s ease-in-out,border-color .18s ease-in-out;background:#21b1281f;border:none;color:#21b128}.review-card__tag--active[_ngcontent-%COMP%]{background:#3d7aff1f;color:#3d7aff;border-color:#3d7aff66}"],changeDetection:0})}}return n})();var w=o(9719),h=o(4572),u=o(6458);let _=(()=>{class n{constructor(){this.api=(0,e.WQX)(u.n)}getReview(t){return this.api.getReviewById(t)}getDoctorForReview(t){return this.getReview(t).pipe((0,d.n)(i=>i?this.api.getDoctorById(i.doctorId):this.api.getDoctors().pipe((0,s.T)(()=>{}))))}getClinicForReview(t){return this.getDoctorForReview(t).pipe((0,d.n)(i=>i?this.api.getClinicById(i.clinicId):this.api.getClinics().pipe((0,s.T)(()=>{}))))}getReviewContext(t){return(0,h.z)([this.getReview(t),this.getDoctorForReview(t),this.getClinicForReview(t)]).pipe((0,s.T)(([i,r,g])=>({review:i,doctor:r,clinic:g})))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R(n,a){if(1&n&&(e.j41(0,"div",11)(1,"h3"),e.EFF(2,"Specialist referenced"),e.k0s(),e.nrm(3,"dr-doctor-card",12),e.k0s()),2&n){const t=e.XpG(2).ngIf;e.R7$(3),e.Y8G("doctor",t.doctor)("clinic",t.clinic)("showActions",!1)}}function C(n,a){if(1&n&&(e.j41(0,"div",5),e.nrm(1,"dr-section-header",6),e.j41(2,"div",7)(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.DNE(10,R,4,3,"div",8),e.j41(11,"div",9),e.nrm(12,"dr-review-card",10),e.k0s()()),2&n){const t=a.ngIf,i=e.XpG().ngIf;e.R7$(),e.Y8G("title",t.headline)("subtitle",t.comment),e.R7$(3),e.SpI("Rated ",t.rating,"/5"),e.R7$(2),e.Lme("",t.author," \xb7 ",t.role,""),e.R7$(2),e.JRh(e.i5U(9,8,t.createdAt,"mediumDate")),e.R7$(2),e.Y8G("ngIf",i.doctor),e.R7$(2),e.Y8G("review",t)}}function F(n,a){if(1&n&&(e.j41(0,"section",3),e.DNE(1,C,13,11,"div",4),e.k0s()),2&n){const t=a.ngIf;e.XpG();const i=e.sdS(5);e.R7$(),e.Y8G("ngIf",t.review)("ngIfElse",i)}}function P(n,a){1&n&&(e.j41(0,"div",13)(1,"p"),e.EFF(2,"Loading story\u2026"),e.k0s()())}function y(n,a){1&n&&(e.j41(0,"div",13)(1,"p"),e.EFF(2,"Story not found. Explore other community stories from the map."),e.k0s()())}let I=(()=>{class n{constructor(){this.route=(0,e.WQX)(l.nX),this.facade=(0,e.WQX)(_),this.context$=this.route.paramMap.pipe((0,s.T)(t=>t.get("id")??""),(0,d.n)(t=>this.facade.getReviewContext(t)))}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275cmp=e.VBU({type:n,selectors:[["dr-review-page"]],standalone:!0,features:[e.aNF],decls:6,vars:4,consts:[["loading",""],["notFound",""],["class","review section",4,"ngIf","ngIfElse"],[1,"review","section"],["class","container",4,"ngIf","ngIfElse"],[1,"container"],["badge","Community review",3,"title","subtitle"],[1,"review__meta"],["class","review__context",4,"ngIf"],[1,"review__card"],[3,"review"],[1,"review__context"],[3,"doctor","clinic","showActions"],[1,"container","section"]],template:function(i,r){if(1&i&&(e.DNE(0,F,2,2,"section",2),e.nI1(1,"async"),e.DNE(2,P,3,0,"ng-template",null,0,e.C5r)(4,y,3,0,"ng-template",null,1,e.C5r)),2&i){const g=e.sdS(3);e.Y8G("ngIf",e.bMT(1,2,r.context$))("ngIfElse",g)}},dependencies:[c.Jj,c.bT,c.vh,w.U,f,v.t],styles:[".review__meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;color:#6d7ba1;margin-top:.75rem}.review__context[_ngcontent-%COMP%]{margin-top:2rem}.review__context[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.review__card[_ngcontent-%COMP%]{margin-top:2rem}"],changeDetection:0})}}return n})()}}]);