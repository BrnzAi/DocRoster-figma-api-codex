{"version":3,"file":"488.js","mappings":"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","sources":["./src/app/feature/profile/data-access/profile.facade.ts","./src/app/feature/profile/ui/profile-page.component.ts","./src/app/feature/profile/ui/profile-page.component.html","./src/app/shared/ui/section-header/section-header.component.ts","./src/app/shared/ui/section-header/section-header.component.html"],"sourcesContent":["import { Injectable, computed, inject, signal } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { finalize, tap } from 'rxjs/operators';\nimport { toObservable } from '@angular/core/rxjs-interop';\n\nimport { DocRosterApiService } from '../../../data-access/doc-roster-api.service';\nimport { UserProfile } from '../../../shared/data-access/models/user-profile.model';\n\n@Injectable({ providedIn: 'root' })\nexport class ProfileFacade {\n  private readonly api = inject(DocRosterApiService);\n  private readonly savingNotificationPreference = signal(false);\n  private readonly profileSignal = signal<UserProfile | null>(null);\n  readonly profile$ = toObservable(this.profileSignal);\n  readonly isSaving = computed(() => this.savingNotificationPreference());\n\n  constructor() {\n    this.api.getUserProfile().subscribe((profile) => this.profileSignal.set(profile));\n  }\n\n  updateNotificationPreference(enabled: boolean): Observable<UserProfile> {\n    this.savingNotificationPreference.set(true);\n    return this.api.updateNotificationPreference(enabled).pipe(\n      tap((profile) => this.profileSignal.set(profile)),\n      finalize(() => this.savingNotificationPreference.set(false))\n    );\n  }\n}\n","import { AsyncPipe, DatePipe, NgFor, NgIf, TitleCasePipe } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, inject } from '@angular/core';\n\nimport { SectionHeaderComponent } from '../../../shared/ui/section-header/section-header.component';\nimport { TagListComponent } from '../../../shared/ui/tag-list/tag-list.component';\nimport { ProfileFacade } from '../data-access/profile.facade';\n\n@Component({\n  selector: 'dr-profile-page',\n  standalone: true,\n  imports: [AsyncPipe, NgIf, NgFor, TitleCasePipe, DatePipe, SectionHeaderComponent, TagListComponent],\n  templateUrl: './profile-page.component.html',\n  styleUrls: ['./profile-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ProfilePageComponent {\n  private readonly facade = inject(ProfileFacade);\n\n  readonly profile$ = this.facade.profile$;\n  readonly isSaving = this.facade.isSaving;\n\n  onToggleNotifications(enabled: boolean): void {\n    this.facade.updateNotificationPreference(enabled).subscribe();\n  }\n}\n","<section class=\"profile section\" *ngIf=\"profile$ | async as profile\">\n  <div class=\"container\">\n    <dr-section-header\n      [title]=\"profile.name\"\n      [subtitle]=\"profile.bio\"\n      badge=\"Your coordination cockpit\"\n    ></dr-section-header>\n\n    <div class=\"profile__grid\">\n      <div class=\"profile__card\">\n        <h3>Account overview</h3>\n        <ul>\n          <li><span>Email</span><strong>{{ profile.email }}</strong></li>\n          <li><span>Role</span><strong>{{ profile.role | titlecase }}</strong></li>\n          <li><span>Organization</span><strong>{{ profile.organization }}</strong></li>\n          <li><span>Last login</span><strong>{{ profile.lastLogin | date: 'medium' }}</strong></li>\n        </ul>\n      </div>\n\n      <div class=\"profile__card\">\n        <h3>Skills & focus</h3>\n        <dr-tag-list [tags]=\"profile.skills\"></dr-tag-list>\n      </div>\n\n      <div class=\"profile__card profile__notifications\">\n        <h3>Notifications</h3>\n        <p>Keep me updated when new assessments or specialists match my teams.</p>\n        <label class=\"toggle\">\n          <input\n            type=\"checkbox\"\n            [checked]=\"profile.notificationsEnabled\"\n            (change)=\"onToggleNotifications($any($event.target).checked)\"\n          />\n          <span></span>\n          <strong>{{ profile.notificationsEnabled ? 'Enabled' : 'Disabled' }}</strong>\n        </label>\n        <span class=\"profile__saving\" *ngIf=\"isSaving()\">Updating…</span>\n      </div>\n    </div>\n  </div>\n</section>\n","import { NgIf } from '@angular/common';\nimport { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'dr-section-header',\n  standalone: true,\n  imports: [NgIf],\n  templateUrl: './section-header.component.html',\n  styleUrls: ['./section-header.component.scss']\n})\nexport class SectionHeaderComponent {\n  @Input({ required: true }) title!: string;\n  @Input() subtitle?: string;\n  @Input() badge?: string;\n}\n","<div class=\"section-header\">\n  <div class=\"section-header__titles\">\n    <span *ngIf=\"badge\" class=\"section-header__badge\">{{ badge }}</span>\n    <h2 class=\"section-header__title\">{{ title }}</h2>\n    <p *ngIf=\"subtitle\" class=\"section-header__subtitle\">{{ subtitle }}</p>\n  </div>\n  <div class=\"section-header__actions\">\n    <ng-content select=\"[actions]\"></ng-content>\n  </div>\n</div>\n"],"names":["computed","inject","signal","finalize","tap","toObservable","DocRosterApiService","ProfileFacade","constructor","api","savingNotificationPreference","profileSignal","profile$","isSaving","getUserProfile","subscribe","profile","set","updateNotificationPreference","enabled","pipe","factory","ɵfac","providedIn","AsyncPipe","DatePipe","NgIf","TitleCasePipe","SectionHeaderComponent","TagListComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","ProfilePageComponent_section_0_Template_input_change_40_listener","$event","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","onToggleNotifications","target","checked","ɵɵtemplate","ProfilePageComponent_section_0_span_44_Template","ɵɵadvance","ɵɵproperty","profile_r3","name","bio","ɵɵtextInterpolate","email","ɵɵpipeBind1","role","organization","ɵɵpipeBind2","lastLogin","skills","notificationsEnabled","ProfilePageComponent","facade","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","ProfilePageComponent_Template","rf","ctx","ProfilePageComponent_section_0_Template","styles","changeDetection","ctx_r0","badge","subtitle","inputs","title","ngContentSelectors","_c1","SectionHeaderComponent_Template","SectionHeaderComponent_span_2_Template","SectionHeaderComponent_p_5_Template","ɵɵprojection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}