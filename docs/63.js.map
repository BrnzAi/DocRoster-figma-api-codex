{"version":3,"file":"63.js","mappings":"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","sources":["./src/app/feature/auth/ui/register-page.component.ts","./src/app/feature/auth/ui/register-page.component.html"],"sourcesContent":["import { NgIf } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, ElementRef, ViewChild, computed, inject, signal } from '@angular/core';\nimport { FormBuilder, ReactiveFormsModule, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\n\nimport { AuthFacade } from '../data-access/auth.facade';\n\n@Component({\n    selector: 'dr-register-page',\n    standalone: true,\n    imports: [ReactiveFormsModule, NgIf],\n    templateUrl: './register-page.component.html',\n    styleUrls: ['./register-page.component.scss'],\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RegisterPageComponent {\n  private readonly fb = inject(FormBuilder);\n  private readonly auth = inject(AuthFacade);\n  private readonly router = inject(Router);\n\n  @ViewChild('avatarInput') private avatarInput?: ElementRef<HTMLInputElement>;\n\n  readonly status = signal<'idle' | 'pending' | 'success' | 'error'>('idle');\n  readonly submitted = signal(false);\n  readonly avatarUploading = signal(false);\n  readonly avatarSrc = signal<string>('assets/figma/register/1848_1718.png');\n  readonly form = this.fb.nonNullable.group({\n    fullName: ['', [Validators.required, Validators.minLength(2)]],\n    email: ['', [Validators.required, Validators.email]],\n    phone: [''],\n    agreeToTerms: [false, [Validators.requiredTrue]]\n  });\n  readonly errorMessage = signal<string | null>(null);\n  readonly showValidationErrors = computed(() => this.submitted() && this.form.invalid);\n\n  submit(): void {\n    if (this.form.invalid || this.status() === 'pending') {\n      this.submitted.set(true);\n      this.form.markAllAsTouched();\n      return;\n    }\n\n    this.status.set('pending');\n    this.errorMessage.set(null);\n    this.auth.register(this.form.getRawValue()).subscribe({\n      next: () => {\n        this.status.set('success');\n        this.router.navigate(['/auth/verify'], { queryParams: { email: this.form.getRawValue().email } });\n      },\n      error: (error: Error) => {\n        this.status.set('error');\n        this.errorMessage.set(error.message);\n      }\n    });\n  }\n\n  isInvalid(controlName: 'fullName' | 'email'): boolean {\n    const control = this.form.controls[controlName];\n    return control.invalid && (control.dirty || control.touched || this.submitted());\n  }\n\n  goToLogin(): void {\n    this.router.navigate(['/auth/login']);\n  }\n\n  triggerAvatarUpload(): void {\n    this.avatarInput?.nativeElement.click();\n  }\n\n  onAvatarSelected(event: Event): void {\n    const input = event.target as HTMLInputElement;\n    const file = input.files?.[0];\n    if (!file) {\n      return;\n    }\n\n    const reader = new FileReader();\n    reader.onload = () => {\n      const result = reader.result as string | null;\n      if (result) {\n        this.avatarSrc.set(result);\n      }\n      this.avatarUploading.set(true);\n      this.auth.uploadAvatar(file).subscribe({\n        next: () => {\n          this.avatarUploading.set(false);\n        },\n        error: (error: Error) => {\n          console.error(error);\n          this.avatarUploading.set(false);\n        }\n      });\n      input.value = '';\n    };\n    reader.readAsDataURL(file);\n  }\n}\n","<section class=\"auth auth--register\">\n  <div class=\"auth__frame\">\n    <img src=\"assets/figma/login/background-large.png\" alt=\"\" class=\"auth__frame-bg\" aria-hidden=\"true\" />\n\n    <div class=\"auth__card\">\n      <div class=\"auth__card-header\">\n        <div class=\"auth__avatar-shell\">\n          <img [src]=\"avatarSrc()\" alt=\"Profile preview\" class=\"auth__avatar\" />\n          <button type=\"button\" class=\"auth__avatar-action\" aria-label=\"Upload photo\" (click)=\"triggerAvatarUpload()\" [disabled]=\"avatarUploading()\">\n            <img src=\"assets/figma/register/1848_1719.png\" alt=\"\" />\n          </button>\n          <input #avatarInput type=\"file\" accept=\"image/*\" class=\"auth__avatar-input\" (change)=\"onAvatarSelected($event)\" />\n        </div>\n        <button type=\"button\" class=\"auth__close\" aria-label=\"Back to sign in\" (click)=\"goToLogin()\">\n          <img src=\"assets/figma/register/1850_2318.png\" alt=\"\" />\n        </button>\n      </div>\n\n      <div class=\"auth__intro\">\n        <h1 class=\"auth__title\">Register account</h1>\n        <p class=\"auth__subtitle\">Sign up to view and manage specialists</p>\n      </div>\n\n      <div class=\"auth__providers\">\n        <button type=\"button\" class=\"auth__provider\" aria-label=\"Sign up with Google\">\n          <img src=\"assets/figma/login/google.png\" alt=\"\" class=\"auth__provider-icon\" />\n          <span>Sign up with Google</span>\n        </button>\n\n        <button type=\"button\" class=\"auth__provider\" aria-label=\"Sign up with Apple\">\n          <img src=\"assets/figma/login/apple.png\" alt=\"\" class=\"auth__provider-icon\" />\n          <span>Sign up with Apple</span>\n        </button>\n      </div>\n\n      <div class=\"auth__divider\" aria-hidden=\"true\">\n        <span class=\"auth__divider-line\"></span>\n        <span class=\"auth__divider-label\">OR</span>\n        <span class=\"auth__divider-line\"></span>\n      </div>\n\n      <form [formGroup]=\"form\" (ngSubmit)=\"submit()\" class=\"auth__form\" novalidate>\n        <p class=\"auth__form-error\" *ngIf=\"showValidationErrors()\">Please fill in the required details.</p>\n\n        <label class=\"auth__field\" [class.auth__field--invalid]=\"isInvalid('fullName')\">\n          <input\n            type=\"text\"\n            formControlName=\"fullName\"\n            placeholder=\"Person or company name\"\n            autocomplete=\"name\"\n            [attr.aria-invalid]=\"isInvalid('fullName')\"\n          />\n        </label>\n\n        <label class=\"auth__field\" [class.auth__field--invalid]=\"isInvalid('email')\">\n          <input\n            type=\"email\"\n            formControlName=\"email\"\n            placeholder=\"Email used for login\"\n            autocomplete=\"email\"\n            [attr.aria-invalid]=\"isInvalid('email')\"\n          />\n        </label>\n\n        <label class=\"auth__field\">\n          <input type=\"tel\" formControlName=\"phone\" placeholder=\"Phone number (optional)\" autocomplete=\"tel\" />\n        </label>\n\n        <label class=\"auth__terms\">\n          <input type=\"checkbox\" formControlName=\"agreeToTerms\" />\n          <span class=\"auth__terms-box\">\n            <img src=\"assets/figma/register/1848_1714.png\" alt=\"\" />\n          </span>\n          <span class=\"auth__terms-label\">\n            I’ve read and agree to the\n            <a href=\"#\" (click)=\"$event.preventDefault()\">Terms &amp; Conditions</a>\n          </span>\n        </label>\n\n        <button class=\"auth__submit\" type=\"submit\" [disabled]=\"status() === 'pending'\">\n          <span>{{ status() === 'pending' ? 'Creating account…' : 'Sign up to DocRoster' }}</span>\n        </button>\n\n        <p class=\"auth__form-status auth__form-status--error\" *ngIf=\"status() === 'error'\">{{ errorMessage() }}</p>\n        <p class=\"auth__form-status auth__form-status--success\" *ngIf=\"status() === 'success'\">\n          Account created! Check your inbox for verification.\n        </p>\n      </form>\n    </div>\n  </div>\n</section>\n"],"names":["NgIf","computed","inject","signal","FormBuilder","ReactiveFormsModule","Validators","Router","AuthFacade","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r1","errorMessage","RegisterPageComponent","constructor","fb","auth","router","status","ngDevMode","debugName","submitted","avatarUploading","avatarSrc","form","nonNullable","group","fullName","required","minLength","email","phone","agreeToTerms","requiredTrue","showValidationErrors","invalid","submit","set","markAllAsTouched","register","getRawValue","subscribe","next","navigate","queryParams","error","message","isInvalid","controlName","control","controls","dirty","touched","goToLogin","triggerAvatarUpload","avatarInput","nativeElement","click","onAvatarSelected","event","input","target","file","files","reader","FileReader","onload","result","uploadAvatar","console","value","readAsDataURL","_","_staticBlock","selectors","viewQuery","RegisterPageComponent_Query","rf","ctx","ɵɵelement","ɵɵlistener","RegisterPageComponent_Template_button_click_7_listener","ɵɵrestoreView","_r1","ɵɵresetView","RegisterPageComponent_Template_input_change_9_listener","$event","RegisterPageComponent_Template_button_click_11_listener","RegisterPageComponent_Template_form_ngSubmit_32_listener","ɵɵtemplate","RegisterPageComponent_p_33_Template","RegisterPageComponent_Template_a_click_46_listener","preventDefault","RegisterPageComponent_p_51_Template","RegisterPageComponent_p_52_Template","ɵɵproperty","ɵɵsanitizeUrl","ɵɵclassProp","i1","ɵNgNoValidate","DefaultValueAccessor","CheckboxControlValueAccessor","NgControlStatus","NgControlStatusGroup","FormGroupDirective","FormControlName","styles","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}