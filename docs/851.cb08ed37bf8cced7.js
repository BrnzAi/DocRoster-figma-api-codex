"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[851],{1851:(P,_,n)=>{n.r(_),n.d(_,{VerifyPageComponent:()=>p});var l=n(2200),a=n(2615),e=n(4341),g=n(8738),m=n(8132),h=n(5990),t=n(3664);function f(s,r){if(1&s&&(t.j41(0,"p",11),t.EFF(1),t.k0s()),2&s){const c=t.XpG();t.R7$(),t.JRh(c.message())}}function d(s,r){if(1&s&&(t.j41(0,"p",12),t.EFF(1),t.k0s()),2&s){const c=t.XpG();t.R7$(),t.JRh(c.message())}}let p=(()=>{var s;class r{constructor(){this.fb=(0,a.WQX)(e.ok),this.auth=(0,a.WQX)(h.B),this.router=(0,a.WQX)(g.Ix),this.route=(0,a.WQX)(g.nX),this.email=(0,a.vPA)(this.route.snapshot.queryParamMap.get("email")??""),this.status=(0,a.vPA)("idle"),this.message=(0,a.vPA)(""),this.form=this.fb.nonNullable.group({code:["",[e.k0.required,e.k0.minLength(6),e.k0.maxLength(6)]]})}submit(){this.form.invalid||"pending"===this.status()?this.form.markAllAsTouched():(this.status.set("pending"),this.message.set(""),this.auth.verify({email:this.email(),code:this.form.getRawValue().code}).subscribe({next:i=>{i?(this.status.set("success"),this.message.set("Verification successful. Redirecting\u2026"),this.router.navigate(["/profile"])):(this.status.set("error"),this.message.set("The verification code was not accepted."))},error:i=>{this.status.set("error"),this.message.set(i.message)}}))}static#t=s=()=>(this.\u0275fac=function(u){return new(u||r)},this.\u0275cmp=t.VBU({type:r,selectors:[["dr-verify-page"]],decls:22,vars:6,consts:[[1,"auth","section"],[1,"container","auth__container"],[1,"auth__lead"],[1,"auth__form",3,"ngSubmit","formGroup"],["type","text","formControlName","code","placeholder","123456","maxlength","6"],["type","submit",1,"button",3,"disabled"],["class","auth__success",4,"ngIf"],["class","auth__error",4,"ngIf"],[1,"auth__links"],["routerLink","/auth/recover"],["routerLink","/auth/login"],[1,"auth__success"],[1,"auth__error"]],template:function(u,o){1&u&&(t.j41(0,"section",0)(1,"div",1)(2,"h1"),t.EFF(3,"Verify your DocRoster account"),t.k0s(),t.j41(4,"p",2),t.EFF(5,"Enter the 6-digit code sent to "),t.j41(6,"strong"),t.EFF(7),t.k0s(),t.EFF(8,"."),t.k0s(),t.j41(9,"form",3),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(10,"label"),t.EFF(11," Verification code "),t.nrm(12,"input",4),t.k0s(),t.j41(13,"button",5),t.EFF(14),t.k0s(),t.DNE(15,f,2,1,"p",6)(16,d,2,1,"p",7),t.k0s(),t.j41(17,"div",8)(18,"a",9),t.EFF(19,"Resend code"),t.k0s(),t.j41(20,"a",10),t.EFF(21,"Back to sign in"),t.k0s()()()()),2&u&&(t.R7$(7),t.JRh(o.email()||"your email"),t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(4),t.Y8G("disabled","pending"===o.status()),t.R7$(),t.SpI(" ","pending"===o.status()?"Verifying\u2026":"Verify account"," "),t.R7$(),t.Y8G("ngIf","success"===o.status()),t.R7$(),t.Y8G("ngIf","error"===o.status()))},dependencies:[e.X1,e.qT,e.me,e.BC,e.cb,e.tU,e.j4,e.JD,m.Wk,l.bT],styles:[".auth[_ngcontent-%COMP%]{background:#eef1ff}.auth__container[_ngcontent-%COMP%]{max-width:440px;margin:0 auto;display:grid;gap:1.5rem;text-align:center}.auth__lead[_ngcontent-%COMP%]{color:#6d7ba1}.auth__form[_ngcontent-%COMP%]{display:grid;gap:1rem;text-align:left}.auth__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.35rem;font-weight:600}.auth__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.85rem 1rem;border-radius:12px;border:1px solid rgba(213,220,240,.9);font-size:1.2rem;letter-spacing:.5rem;text-transform:uppercase;text-align:center}.auth__links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem}.auth__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3d7aff;font-weight:600}.auth__success[_ngcontent-%COMP%]{color:#21b128}.auth__error[_ngcontent-%COMP%]{color:#ff3d00}"],changeDetection:0}))}return s(),r})()}}]);