{"version":3,"file":"422.js","mappings":"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","sources":["./src/app/feature/search/data-access/search.facade.ts","./src/app/feature/search/ui/search-page.component.ts","./src/app/feature/search/ui/search-page.component.html"],"sourcesContent":["import { Injectable, inject } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { DocRosterApiService } from '../../../data-access/doc-roster-api.service';\nimport { SearchResult } from '../../../shared/data-access/models/search-result.model';\n\n@Injectable({ providedIn: 'root' })\nexport class SearchFacade {\n  private readonly api = inject(DocRosterApiService);\n\n  readonly results$: Observable<SearchResult[]> = this.api.getSearchResults();\n}\n","import { AsyncPipe, NgFor, NgIf } from '@angular/common';\nimport { ChangeDetectionStrategy, Component, inject } from '@angular/core';\nimport { FormControl, ReactiveFormsModule } from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { combineLatest } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\n\nimport { SearchFacade } from '../data-access/search.facade';\nimport { SearchResult } from '../../../shared/data-access/models/search-result.model';\n\n@Component({\n  selector: 'dr-search-page',\n  standalone: true,\n  imports: [AsyncPipe, NgFor, NgIf, ReactiveFormsModule, RouterLink],\n  templateUrl: './search-page.component.html',\n  styleUrls: ['./search-page.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SearchPageComponent {\n  private readonly searchFacade = inject(SearchFacade);\n\n  readonly searchControl = new FormControl('', { nonNullable: true });\n  private readonly searchTerm$ = this.searchControl.valueChanges.pipe(startWith(''));\n\n  private readonly results$ = this.searchFacade.results$;\n  readonly defaultPrompt = 'Find me an Occupational Therapist who travels to Thunder Bay for catastrophic assessments';\n\n  readonly visibleResults$ = combineLatest<[SearchResult[], string]>([\n    this.results$,\n    this.searchTerm$\n  ]).pipe(\n    map(([results, term]) => {\n      const query = (term ?? '').trim().toLowerCase();\n      const enriched = results.map((result, index) => ({\n        ...result,\n        avatar: SEARCH_AVATARS[index % SEARCH_AVATARS.length]\n      }));\n      if (!query) {\n        return enriched;\n      }\n      return enriched.filter((result) => {\n        const haystack = [\n          result.doctor.name,\n          result.doctor.specialty,\n          result.clinic.name,\n          result.clinic.address.city,\n          result.clinic.address.state\n        ]\n          .join(' ')\n          .toLowerCase();\n        return haystack.includes(query);\n      });\n    })\n  );\n}\n\nconst SEARCH_AVATARS = [\n  'assets/figma/search/1814_1178.png',\n  'assets/figma/search/1814_1186.png',\n  'assets/figma/search/1814_1194.png',\n  'assets/figma/search/1814_1202.png',\n  'assets/figma/search/1814_1210.png',\n  'assets/figma/search/1814_1218.png'\n];\n","<section class=\"search-view\">\n  <div class=\"search-view__card\">\n    <div class=\"search-view__header\">\n      <button\n        type=\"button\"\n        class=\"search-view__control search-view__control--filters\"\n        routerLink=\"/filters\"\n        aria-label=\"Open filters\"\n      ></button>\n      <label class=\"search-view__search\">\n        <input\n          type=\"search\"\n          [formControl]=\"searchControl\"\n          placeholder=\"Find a specialist...\"\n          aria-label=\"Search specialists\"\n        />\n      </label>\n      <a class=\"search-view__control search-view__control--profile\" routerLink=\"/profile\">\n        <span>Profile</span>\n      </a>\n    </div>\n\n    <div class=\"search-view__summary\">\n      <span>Search results for</span>\n      <h1>{{ searchControl.value ? searchControl.value : defaultPrompt }}</h1>\n    </div>\n\n    <ul class=\"search-view__results\" *ngIf=\"visibleResults$ | async as results\">\n      <li *ngFor=\"let result of results\">\n        <a class=\"search-view__result\" [routerLink]=\"['/specialists', result.doctor.id]\">\n          <img [src]=\"result.avatar\" [alt]=\"result.doctor.name\" class=\"search-view__result-avatar\" />\n          <div class=\"search-view__result-body\">\n            <h2>{{ result.doctor.name }}</h2>\n            <p class=\"search-view__result-meta\">{{ result.doctor.specialty }}</p>\n            <p>{{ result.clinic.name }}</p>\n            <p>{{ result.clinic.address.street }}, {{ result.clinic.address.city }}, {{ result.clinic.address.state }}</p>\n          </div>\n          <span class=\"search-view__result-chevron\" aria-hidden=\"true\"></span>\n        </a>\n      </li>\n    </ul>\n  </div>\n</section>\n"],"names":["inject","DocRosterApiService","SearchFacade","constructor","api","results$","getSearchResults","factory","ɵfac","providedIn","AsyncPipe","NgFor","NgIf","FormControl","ReactiveFormsModule","RouterLink","combineLatest","map","startWith","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ɵɵpureFunction1","_c0","result_r1","doctor","id","avatar","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","specialty","clinic","ɵɵtextInterpolate3","address","street","city","state","ɵɵtemplate","SearchPageComponent_ul_14_li_1_Template","results_r2","SearchPageComponent","searchFacade","searchControl","nonNullable","searchTerm$","valueChanges","pipe","defaultPrompt","visibleResults$","results","term","query","trim","toLowerCase","enriched","result","index","SEARCH_AVATARS","length","filter","haystack","join","includes","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","SearchPageComponent_Template","rf","ctx","SearchPageComponent_ul_14_Template","value","ɵɵpipeBind1","i1","DefaultValueAccessor","NgControlStatus","FormControlDirective","styles","changeDetection"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}