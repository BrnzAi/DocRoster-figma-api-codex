"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[63],{5063:(v,p,s)=>{s.r(p),s.d(p,{RegisterPageComponent:()=>b});var c=s(177),t=s(4438),n=s(4341),g=s(8094),h=s(5990);const d=["avatarInput"];function f(r,_){1&r&&(t.j41(0,"p",39),t.EFF(1,"Please fill in the required details."),t.k0s())}function m(r,_){if(1&r&&(t.j41(0,"p",40),t.EFF(1),t.k0s()),2&r){const o=t.XpG();t.R7$(),t.JRh(o.errorMessage())}}function x(r,_){1&r&&(t.j41(0,"p",41),t.EFF(1," Account created! Check your inbox for verification. "),t.k0s())}let b=(()=>{class r{constructor(){this.fb=(0,t.WQX)(n.ok),this.auth=(0,t.WQX)(h.B),this.router=(0,t.WQX)(g.Ix),this.status=(0,t.vPA)("idle"),this.submitted=(0,t.vPA)(!1),this.avatarUploading=(0,t.vPA)(!1),this.avatarSrc=(0,t.vPA)("assets/figma/register/1848_1718.png"),this.form=this.fb.nonNullable.group({fullName:["",[n.k0.required,n.k0.minLength(2)]],email:["",[n.k0.required,n.k0.email]],phone:[""],agreeToTerms:[!1,[n.k0.requiredTrue]]}),this.errorMessage=(0,t.vPA)(null),this.showValidationErrors=(0,t.EWP)(()=>this.submitted()&&this.form.invalid)}submit(){if(this.form.invalid||"pending"===this.status())return this.submitted.set(!0),void this.form.markAllAsTouched();this.status.set("pending"),this.errorMessage.set(null),this.auth.register(this.form.getRawValue()).subscribe({next:()=>{this.status.set("success"),this.router.navigate(["/auth/verify"],{queryParams:{email:this.form.getRawValue().email}})},error:o=>{this.status.set("error"),this.errorMessage.set(o.message)}})}isInvalid(o){const a=this.form.controls[o];return a.invalid&&(a.dirty||a.touched||this.submitted())}goToLogin(){this.router.navigate(["/auth/login"])}triggerAvatarUpload(){this.avatarInput?.nativeElement.click()}onAvatarSelected(o){const a=o.target,e=a.files?.[0];if(!e)return;const i=new FileReader;i.onload=()=>{const l=i.result;l&&this.avatarSrc.set(l),this.avatarUploading.set(!0),this.auth.uploadAvatar(e).subscribe({next:()=>{this.avatarUploading.set(!1)},error:u=>{console.error(u),this.avatarUploading.set(!1)}}),a.value=""},i.readAsDataURL(e)}static{this.\u0275fac=function(a){return new(a||r)}}static{this.\u0275cmp=t.VBU({type:r,selectors:[["dr-register-page"]],viewQuery:function(a,e){if(1&a&&t.GBs(d,5),2&a){let i;t.mGM(i=t.lsd())&&(e.avatarInput=i.first)}},standalone:!0,features:[t.aNF],decls:53,vars:14,consts:[["avatarInput",""],[1,"auth","auth--register"],[1,"auth__frame"],["src","assets/figma/login/background-large.png","alt","","aria-hidden","true",1,"auth__frame-bg"],[1,"auth__card"],[1,"auth__card-header"],[1,"auth__avatar-shell"],["alt","Profile preview",1,"auth__avatar",3,"src"],["type","button","aria-label","Upload photo",1,"auth__avatar-action",3,"click","disabled"],["src","assets/figma/register/1848_1719.png","alt",""],["type","file","accept","image/*",1,"auth__avatar-input",3,"change"],["type","button","aria-label","Back to sign in",1,"auth__close",3,"click"],["src","assets/figma/register/1850_2318.png","alt",""],[1,"auth__intro"],[1,"auth__title"],[1,"auth__subtitle"],[1,"auth__providers"],["type","button","aria-label","Sign up with Google",1,"auth__provider"],["src","assets/figma/login/google.png","alt","",1,"auth__provider-icon"],["type","button","aria-label","Sign up with Apple",1,"auth__provider"],["src","assets/figma/login/apple.png","alt","",1,"auth__provider-icon"],["aria-hidden","true",1,"auth__divider"],[1,"auth__divider-line"],[1,"auth__divider-label"],["novalidate","",1,"auth__form",3,"ngSubmit","formGroup"],["class","auth__form-error",4,"ngIf"],[1,"auth__field"],["type","text","formControlName","fullName","placeholder","Person or company name","autocomplete","name"],["type","email","formControlName","email","placeholder","Email used for login","autocomplete","email"],["type","tel","formControlName","phone","placeholder","Phone number (optional)","autocomplete","tel"],[1,"auth__terms"],["type","checkbox","formControlName","agreeToTerms"],[1,"auth__terms-box"],["src","assets/figma/register/1848_1714.png","alt",""],[1,"auth__terms-label"],["href","#",3,"click"],["type","submit",1,"auth__submit",3,"disabled"],["class","auth__form-status auth__form-status--error",4,"ngIf"],["class","auth__form-status auth__form-status--success",4,"ngIf"],[1,"auth__form-error"],[1,"auth__form-status","auth__form-status--error"],[1,"auth__form-status","auth__form-status--success"]],template:function(a,e){if(1&a){const i=t.RV6();t.j41(0,"section",1)(1,"div",2),t.nrm(2,"img",3),t.j41(3,"div",4)(4,"div",5)(5,"div",6),t.nrm(6,"img",7),t.j41(7,"button",8),t.bIt("click",function(){return t.eBV(i),t.Njj(e.triggerAvatarUpload())}),t.nrm(8,"img",9),t.k0s(),t.j41(9,"input",10,0),t.bIt("change",function(u){return t.eBV(i),t.Njj(e.onAvatarSelected(u))}),t.k0s()(),t.j41(11,"button",11),t.bIt("click",function(){return t.eBV(i),t.Njj(e.goToLogin())}),t.nrm(12,"img",12),t.k0s()(),t.j41(13,"div",13)(14,"h1",14),t.EFF(15,"Register account"),t.k0s(),t.j41(16,"p",15),t.EFF(17,"Sign up to view and manage specialists"),t.k0s()(),t.j41(18,"div",16)(19,"button",17),t.nrm(20,"img",18),t.j41(21,"span"),t.EFF(22,"Sign up with Google"),t.k0s()(),t.j41(23,"button",19),t.nrm(24,"img",20),t.j41(25,"span"),t.EFF(26,"Sign up with Apple"),t.k0s()()(),t.j41(27,"div",21),t.nrm(28,"span",22),t.j41(29,"span",23),t.EFF(30,"OR"),t.k0s(),t.nrm(31,"span",22),t.k0s(),t.j41(32,"form",24),t.bIt("ngSubmit",function(){return t.eBV(i),t.Njj(e.submit())}),t.DNE(33,f,2,0,"p",25),t.j41(34,"label",26),t.nrm(35,"input",27),t.k0s(),t.j41(36,"label",26),t.nrm(37,"input",28),t.k0s(),t.j41(38,"label",26),t.nrm(39,"input",29),t.k0s(),t.j41(40,"label",30),t.nrm(41,"input",31),t.j41(42,"span",32),t.nrm(43,"img",33),t.k0s(),t.j41(44,"span",34),t.EFF(45," I\u2019ve read and agree to the "),t.j41(46,"a",35),t.bIt("click",function(u){return t.eBV(i),t.Njj(u.preventDefault())}),t.EFF(47,"Terms & Conditions"),t.k0s()()(),t.j41(48,"button",36)(49,"span"),t.EFF(50),t.k0s()(),t.DNE(51,m,2,1,"p",37)(52,x,2,0,"p",38),t.k0s()()()()}2&a&&(t.R7$(6),t.Y8G("src",e.avatarSrc(),t.B4B),t.R7$(),t.Y8G("disabled",e.avatarUploading()),t.R7$(25),t.Y8G("formGroup",e.form),t.R7$(),t.Y8G("ngIf",e.showValidationErrors()),t.R7$(),t.AVh("auth__field--invalid",e.isInvalid("fullName")),t.R7$(),t.BMQ("aria-invalid",e.isInvalid("fullName")),t.R7$(),t.AVh("auth__field--invalid",e.isInvalid("email")),t.R7$(),t.BMQ("aria-invalid",e.isInvalid("email")),t.R7$(11),t.Y8G("disabled","pending"===e.status()),t.R7$(2),t.JRh("pending"===e.status()?"Creating account\u2026":"Sign up to DocRoster"),t.R7$(),t.Y8G("ngIf","error"===e.status()),t.R7$(),t.Y8G("ngIf","success"===e.status()))},dependencies:[n.X1,n.qT,n.me,n.Zm,n.BC,n.cb,n.j4,n.JD,c.bT],styles:[".auth--register[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;padding:clamp(16px,4vw,32px);background:url(background-large.322b12c688c07a48.png) center/cover no-repeat fixed;font-family:SF Pro Text,SF Pro Display,Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;overflow-y:auto}.auth__frame[_ngcontent-%COMP%]{position:relative;width:min(100%,1048px);border-radius:24px;overflow:visible;display:flex;justify-content:center;padding:clamp(32px,6vw,48px);background:#ffffff14;-webkit-backdrop-filter:blur(28px);backdrop-filter:blur(28px)}.auth__frame-bg[_ngcontent-%COMP%]{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;opacity:.4;z-index:-1}.auth__card[_ngcontent-%COMP%]{position:relative;width:min(100%,393px);border-radius:32px;background:#ffffff3d;box-shadow:0 40px 80px #00000040;border:1px solid rgba(255,255,255,.24);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);padding:32px 24px 36px;display:flex;flex-direction:column;gap:24px}.auth__card-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.auth__avatar-shell[_ngcontent-%COMP%]{position:relative}.auth__avatar[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;border-radius:24px;box-shadow:0 18px 38px #0a174840}.auth__avatar-input[_ngcontent-%COMP%]{display:none}.auth__avatar-action[_ngcontent-%COMP%]{position:absolute;right:8px;bottom:8px;width:48px;height:48px;padding:0;border:none;border-radius:50%;background:#ffffffeb;box-shadow:0 12px 32px #0a17482e;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s ease}.auth__avatar-action[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.auth__avatar-action[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.auth__avatar-action[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(61,122,255,.4);outline-offset:3px}.auth__avatar-action[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:wait;transform:none}.auth__close[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;border:none;background:#ffffffeb;box-shadow:0 24px 48px #0a17482e;display:inline-flex;align-items:center;justify-content:center;cursor:pointer;transition:transform .2s ease}.auth__close[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px}.auth__close[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.auth__close[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(61,122,255,.4);outline-offset:4px}.auth__intro[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.auth__title[_ngcontent-%COMP%]{margin:0;font-size:32px;font-weight:700;letter-spacing:.374px;color:#0a1748}.auth__subtitle[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:500;letter-spacing:-.5px;color:#0a1748c7}.auth__providers[_ngcontent-%COMP%]{display:flex;gap:12px;justify-content:space-between}.auth__provider[_ngcontent-%COMP%]{flex:1 1 0;display:inline-flex;align-items:center;justify-content:center;gap:12px;height:46px;border-radius:24px;border:none;background:#000;color:#fff;font-weight:600;font-size:14px;letter-spacing:-.408px;cursor:pointer;transition:transform .2s ease,background .2s ease}.auth__provider[_ngcontent-%COMP%]:hover{transform:translateY(-1px);background:#000000eb}.auth__provider[_ngcontent-%COMP%]:focus-visible{outline:2px solid rgba(61,122,255,.4);outline-offset:3px}.auth__provider-icon[_ngcontent-%COMP%]{width:24px;height:24px}.auth__divider[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.auth__divider-line[_ngcontent-%COMP%]{flex:1;height:1px;background:#0a174899}.auth__divider-label[_ngcontent-%COMP%]{font-size:14px;font-weight:500;letter-spacing:-.408px;color:#0a1748c7}.auth__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px}.auth__form-error[_ngcontent-%COMP%]{margin:-12px 0 0;font-size:12px;font-weight:600;letter-spacing:-.2px;color:#ff3d00}.auth__field[_ngcontent-%COMP%]{position:relative;width:100%;height:48px;border-radius:12px;background:#0a17480d;border:1px solid transparent;display:flex;align-items:center}.auth__field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;height:100%;border:none;outline:none;background:transparent;padding:13px 16px;font-size:18px;font-weight:600;letter-spacing:-.5px;color:#0a1748}.auth__field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0a174899}.auth__field--invalid[_ngcontent-%COMP%]{border-color:#ff3d0080;box-shadow:0 0 0 2px #ff3d001a}.auth__terms[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-top:8px;font-size:14px;font-weight:700;letter-spacing:-.408px;color:#0a1748}.auth__terms[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;pointer-events:none}.auth__terms-box[_ngcontent-%COMP%]{width:24px;height:24px;display:inline-flex;align-items:center;justify-content:center}.auth__terms-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:24px;height:24px;transition:opacity .16s ease}.auth__terms-label[_ngcontent-%COMP%]{display:inline-flex;align-items:center;line-height:15.4px}.auth__terms-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:inherit;text-decoration:underline;margin-left:4px}.auth__terms[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:not(:checked) + .auth__terms-box[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{opacity:.4}.auth__submit[_ngcontent-%COMP%]{margin-top:12px;width:100%;height:46px;border-radius:24px;border:none;background:#0a1748e0;color:#fff;font-weight:600;font-size:14px;letter-spacing:-.408px;cursor:pointer}.auth__submit[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;width:100%}.auth__submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.auth__form-status[_ngcontent-%COMP%]{margin:4px 0 0;font-size:12px;letter-spacing:-.2px;font-weight:600}.auth__form-status--error[_ngcontent-%COMP%]{color:#ff3d00}.auth__form-status--success[_ngcontent-%COMP%]{color:#21b128}@media (max-width: 640px){.auth__providers[_ngcontent-%COMP%]{flex-direction:column}.auth__card[_ngcontent-%COMP%]{padding:28px 20px 32px}.auth__avatar[_ngcontent-%COMP%]{width:124px;height:124px}.auth__avatar-action[_ngcontent-%COMP%]{width:40px;height:40px}}"],changeDetection:0})}}return r})()}}]);