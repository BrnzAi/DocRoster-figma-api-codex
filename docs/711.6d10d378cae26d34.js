"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[711],{5711:(j,l,a)=>{a.r(l),a.d(l,{ReviewPageComponent:()=>M});var s=a(2200),d=a(2615),m=a(8738),g=a(6354),p=a(5558),f=a(5831),e=a(3664);function w(t,n){if(1&t&&(e.j41(0,"span",6),e.EFF(1),e.k0s()),2&t){const r=n.$implicit;e.R7$(),e.SpI("#",r)}}let h=(()=>{var t;class n{static#e=t=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275cmp=e.VBU({type:n,selectors:[["dr-review-card"]],inputs:{review:"review"},decls:14,vars:10,consts:[[1,"review-card","surface"],[1,"review-card__header"],[1,"review-card__date"],[1,"review-card__comment"],[1,"review-card__footer"],["class","review-card__tag",4,"ngFor","ngForOf"],[1,"review-card__tag"]],template:function(o,c){1&o&&(e.j41(0,"article",0)(1,"header",1)(2,"div")(3,"h3"),e.EFF(4),e.k0s(),e.j41(5,"p"),e.EFF(6),e.k0s()(),e.j41(7,"span",2),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.j41(10,"p",3),e.EFF(11),e.k0s(),e.j41(12,"footer",4),e.DNE(13,w,2,1,"span",5),e.k0s()()),2&o&&(e.R7$(4),e.JRh(c.review.headline),e.R7$(2),e.E5c("Rated ",c.review.rating,"/5 by ",c.review.author," \xb7 ",c.review.role),e.R7$(2),e.JRh(e.i5U(9,7,c.review.createdAt,"mediumDate")),e.R7$(3),e.JRh(c.review.comment),e.R7$(2),e.Y8G("ngForOf",c.review.tags))},dependencies:[s.Sq,s.vh],styles:[".review-card[_ngcontent-%COMP%]{display:grid;gap:1rem;padding:clamp(1.5rem,3vw,2rem)}.review-card__header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;gap:1rem;flex-wrap:wrap}.review-card__header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.15rem}.review-card__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.4rem 0 0;color:#6d7ba1}.review-card__date[_ngcontent-%COMP%]{color:#6d7ba1;font-size:.9rem}.review-card__comment[_ngcontent-%COMP%]{margin:0;line-height:1.7;font-size:1.02rem}.review-card__footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}.review-card__tag[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;padding:.5rem 1rem;border-radius:999px;background:#fff;border:1px solid rgba(213,220,240,.8);font-weight:500;color:#0a1748;transition:background .18s ease-in-out,color .18s ease-in-out,border-color .18s ease-in-out;background:#21b1281f;border:none;color:#21b128}.review-card__tag--active[_ngcontent-%COMP%]{background:#3d7aff1f;color:#3d7aff;border-color:#3d7aff66}"],changeDetection:0}))}return t(),n})();var u=a(9719),_=a(4572),R=a(6458);let C=(()=>{var t;class n{constructor(){this.api=(0,d.WQX)(R.n)}getReview(i){return this.api.getReviewById(i)}getDoctorForReview(i){return this.getReview(i).pipe((0,p.n)(o=>o?this.api.getDoctorById(o.doctorId):this.api.getDoctors().pipe((0,g.T)(()=>{}))))}getClinicForReview(i){return this.getDoctorForReview(i).pipe((0,p.n)(o=>o?this.api.getClinicById(o.clinicId):this.api.getClinics().pipe((0,g.T)(()=>{}))))}getReviewContext(i){return(0,_.z)([this.getReview(i),this.getDoctorForReview(i),this.getClinicForReview(i)]).pipe((0,g.T)(([o,c,v])=>({review:o,doctor:c,clinic:v})))}static#e=t=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275prov=d.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}))}return t(),n})();function F(t,n){if(1&t&&(e.j41(0,"div",11)(1,"h3"),e.EFF(2,"Specialist referenced"),e.k0s(),e.nrm(3,"dr-doctor-card",12),e.k0s()),2&t){const r=e.XpG(2).ngIf;e.R7$(3),e.Y8G("doctor",r.doctor)("clinic",r.clinic)("showActions",!1)}}function P(t,n){if(1&t&&(e.j41(0,"div",5),e.nrm(1,"dr-section-header",6),e.j41(2,"div",7)(3,"span"),e.EFF(4),e.k0s(),e.j41(5,"span"),e.EFF(6),e.k0s(),e.j41(7,"span"),e.EFF(8),e.nI1(9,"date"),e.k0s()(),e.DNE(10,F,4,3,"div",8),e.j41(11,"div",9),e.nrm(12,"dr-review-card",10),e.k0s()()),2&t){const r=n.ngIf,i=e.XpG().ngIf;e.R7$(),e.Y8G("title",r.headline)("subtitle",r.comment),e.R7$(3),e.SpI("Rated ",r.rating,"/5"),e.R7$(2),e.Lme("",r.author," \xb7 ",r.role),e.R7$(2),e.JRh(e.i5U(9,8,r.createdAt,"mediumDate")),e.R7$(2),e.Y8G("ngIf",i.doctor),e.R7$(2),e.Y8G("review",r)}}function y(t,n){if(1&t&&(e.j41(0,"section",3),e.DNE(1,P,13,11,"div",4),e.k0s()),2&t){const r=n.ngIf;e.XpG();const i=e.sdS(5);e.R7$(),e.Y8G("ngIf",r.review)("ngIfElse",i)}}function I(t,n){1&t&&(e.j41(0,"div",13)(1,"p"),e.EFF(2,"Loading story\u2026"),e.k0s()())}function E(t,n){1&t&&(e.j41(0,"div",13)(1,"p"),e.EFF(2,"Story not found. Explore other community stories from the map."),e.k0s()())}let M=(()=>{var t;class n{constructor(){this.route=(0,d.WQX)(m.nX),this.facade=(0,d.WQX)(C),this.context$=this.route.paramMap.pipe((0,g.T)(i=>i.get("id")??""),(0,p.n)(i=>this.facade.getReviewContext(i)))}static#e=t=()=>(this.\u0275fac=function(o){return new(o||n)},this.\u0275cmp=e.VBU({type:n,selectors:[["dr-review-page"]],decls:6,vars:4,consts:[["loading",""],["notFound",""],["class","review section",4,"ngIf","ngIfElse"],[1,"review","section"],["class","container",4,"ngIf","ngIfElse"],[1,"container"],["badge","Community review",3,"title","subtitle"],[1,"review__meta"],["class","review__context",4,"ngIf"],[1,"review__card"],[3,"review"],[1,"review__context"],[3,"doctor","clinic","showActions"],[1,"container","section"]],template:function(o,c){if(1&o&&(e.DNE(0,y,2,2,"section",2),e.nI1(1,"async"),e.DNE(2,I,3,0,"ng-template",null,0,e.C5r)(4,E,3,0,"ng-template",null,1,e.C5r)),2&o){const v=e.sdS(3);e.Y8G("ngIf",e.bMT(1,2,c.context$))("ngIfElse",v)}},dependencies:[s.bT,u.U,h,f.t,s.Jj,s.vh],styles:[".review__meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.75rem;color:#6d7ba1;margin-top:.75rem}.review__context[_ngcontent-%COMP%]{margin-top:2rem}.review__context[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-bottom:1rem}.review__card[_ngcontent-%COMP%]{margin-top:2rem}"],changeDetection:0}))}return t(),n})()}}]);