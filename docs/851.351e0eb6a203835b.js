"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[851],{1851:(x,c,n)=>{n.r(c),n.d(c,{VerifyPageComponent:()=>m});var l=n(2200),a=n(2615),e=n(4341),f=n(8738),g=n(8132),d=n(5990),t=n(3664);function p(s,r){if(1&s&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&s){const _=t.XpG();t.R7$(),t.JRh(_.message())}}function h(s,r){if(1&s&&(t.j41(0,"p",15),t.EFF(1),t.k0s()),2&s){const _=t.XpG();t.R7$(),t.JRh(_.message())}}let m=(()=>{var s;class r{constructor(){this.fb=(0,a.WQX)(e.ok),this.auth=(0,a.WQX)(d.B),this.router=(0,a.WQX)(f.Ix),this.route=(0,a.WQX)(f.nX),this.email=(0,a.vPA)(this.route.snapshot.queryParamMap.get("email")??""),this.status=(0,a.vPA)("idle"),this.message=(0,a.vPA)(""),this.form=this.fb.nonNullable.group({code:["",[e.k0.required,e.k0.minLength(6),e.k0.maxLength(6)]]})}submit(){this.form.invalid||"pending"===this.status()?this.form.markAllAsTouched():(this.status.set("pending"),this.message.set(""),this.auth.verify({email:this.email(),code:this.form.getRawValue().code}).subscribe({next:i=>{i?(this.status.set("success"),this.message.set("Verification successful. Redirecting\u2026"),this.router.navigate(["/profile"])):(this.status.set("error"),this.message.set("The verification code was not accepted."))},error:i=>{this.status.set("error"),this.message.set(i.message)}}))}static#t=s=()=>(this.\u0275fac=function(u){return new(u||r)},this.\u0275cmp=t.VBU({type:r,selectors:[["dr-verify-page"]],decls:24,vars:6,consts:[[1,"auth","auth--verify"],[1,"auth__frame"],[1,"auth__card","auth__card--verify"],[1,"auth__title"],[1,"auth__lead"],[1,"auth__form",3,"ngSubmit","formGroup"],[1,"auth__field","auth__field--code"],["type","text","formControlName","code","placeholder","123456","maxlength","6","inputmode","numeric"],["type","submit",1,"auth__submit",3,"disabled"],["class","auth__form-status auth__form-status--success",4,"ngIf"],["class","auth__form-status auth__form-status--error",4,"ngIf"],[1,"auth__links"],["routerLink","/auth/recover"],["routerLink","/auth/login"],[1,"auth__form-status","auth__form-status--success"],[1,"auth__form-status","auth__form-status--error"]],template:function(u,o){1&u&&(t.j41(0,"section",0)(1,"div",1)(2,"div",2)(3,"h1",3),t.EFF(4,"Verify your DocRoster account"),t.k0s(),t.j41(5,"p",4),t.EFF(6,"Enter the 6-digit code sent to "),t.j41(7,"strong"),t.EFF(8),t.k0s(),t.EFF(9,"."),t.k0s(),t.j41(10,"form",5),t.bIt("ngSubmit",function(){return o.submit()}),t.j41(11,"label",6)(12,"span"),t.EFF(13,"Verification code"),t.k0s(),t.nrm(14,"input",7),t.k0s(),t.j41(15,"button",8),t.EFF(16),t.k0s(),t.DNE(17,p,2,1,"p",9)(18,h,2,1,"p",10),t.k0s(),t.j41(19,"div",11)(20,"a",12),t.EFF(21,"Resend code"),t.k0s(),t.j41(22,"a",13),t.EFF(23,"Back to sign in"),t.k0s()()()()()),2&u&&(t.R7$(8),t.JRh(o.email()||"your email"),t.R7$(2),t.Y8G("formGroup",o.form),t.R7$(5),t.Y8G("disabled","pending"===o.status()),t.R7$(),t.SpI(" ","pending"===o.status()?"Verifying\u2026":"Verify account"," "),t.R7$(),t.Y8G("ngIf","success"===o.status()),t.R7$(),t.Y8G("ngIf","error"===o.status()))},dependencies:[e.X1,e.qT,e.me,e.BC,e.cb,e.tU,e.j4,e.JD,g.Wk,l.bT],styles:[".auth--verify[_ngcontent-%COMP%]{min-height:100vh;display:flex;justify-content:center;align-items:center;padding:clamp(16px,4vw,32px);font-family:SF Pro Text,SF Pro Display,Inter,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;overflow-y:auto;pointer-events:none}.auth__frame[_ngcontent-%COMP%]{position:relative;width:min(100%,720px);border-radius:24px;display:flex;justify-content:center;padding:clamp(32px,6vw,48px);pointer-events:auto}.auth__card[_ngcontent-%COMP%]{width:min(100%,420px);border-radius:32px;background:#ffffff3d;box-shadow:0 40px 80px #00000040;border:1px solid rgba(255,255,255,.24);-webkit-backdrop-filter:blur(24px);backdrop-filter:blur(24px);padding:40px 32px;display:flex;flex-direction:column;gap:24px;text-align:center;pointer-events:auto}.auth__title[_ngcontent-%COMP%]{margin:0;font-size:32px;font-weight:700;letter-spacing:.374px;color:#0a1748}.auth__lead[_ngcontent-%COMP%]{margin:0;font-size:16px;font-weight:500;color:#0a1748b8}.auth__lead[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#0a1748}.auth__form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;text-align:left}.auth__field[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px;font-weight:600;color:#0a1748}.auth__field[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:14px;text-transform:uppercase;letter-spacing:.12em}.auth__field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.85rem 1rem;border-radius:16px;border:1px solid rgba(10,23,72,.16);font-size:1.4rem;letter-spacing:.6rem;text-transform:uppercase;text-align:center;font-weight:700;background:#ffffffeb;color:#0a1748}.auth__field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0a174866}.auth__submit[_ngcontent-%COMP%]{width:100%;height:48px;border-radius:24px;border:none;background:#0a1748e0;color:#fff;font-weight:600;font-size:16px;letter-spacing:-.2px;cursor:pointer;transition:transform .2s ease}.auth__submit[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px)}.auth__submit[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.auth__form-status[_ngcontent-%COMP%]{margin:0;font-size:13px;font-weight:600}.auth__form-status--success[_ngcontent-%COMP%]{color:#21b128}.auth__form-status--error[_ngcontent-%COMP%]{color:#ff3d00}.auth__links[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:16px;font-weight:600}.auth__links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0a1748;text-decoration:none}"],changeDetection:0}))}return s(),r})()}}]);