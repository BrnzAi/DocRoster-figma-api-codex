"use strict";(self.webpackChunkdoc_roster=self.webpackChunkdoc_roster||[]).push([[465],{6465:(S,p,a)=>{a.r(p),a.d(p,{UploadPageComponent:()=>_});var g=a(2200),r=a(2615),e=a(4341),m=a(9719),u=a(9295),c=a(8141),f=a(980),h=a(2325);let b=(()=>{var o;class s{constructor(){this.http=(0,r.WQX)(h.v),this.progressSignal=(0,r.vPA)(0),this.uploadingSignal=(0,r.vPA)(!1),this.progress=(0,u.EW)(()=>this.progressSignal()),this.isUploading=(0,u.EW)(()=>this.uploadingSignal())}upload(n){return this.uploadingSignal.set(!0),this.progressSignal.set(30),this.http.mutate(()=>(this.progressSignal.set(85),{id:`upload-${crypto.randomUUID()}`,nextStep:`Our clinical review team will audit ${n.title} and structure the submission.`,eta:"24 business hours"}),450).pipe((0,c.M)(()=>this.progressSignal.set(100)),(0,f.j)(()=>this.uploadingSignal.set(!1)))}reset(){this.progressSignal.set(0),this.uploadingSignal.set(!1)}static#t=o=()=>(this.\u0275fac=function(i){return new(i||s)},this.\u0275prov=r.jDH({token:s,factory:s.\u0275fac,providedIn:"root"}))}return o(),s})();var t=a(3664);function v(o,s){if(1&o&&(t.j41(0,"div",13)(1,"span"),t.EFF(2),t.k0s()()),2&o){const d=t.XpG();t.R7$(2),t.SpI("Progress: ",d.progress(),"%")}}function C(o,s){if(1&o&&(t.j41(0,"p",14),t.EFF(1),t.k0s()),2&o){const d=t.XpG();t.R7$(),t.JRh(d.result())}}function P(o,s){if(1&o&&(t.j41(0,"p",15),t.EFF(1),t.k0s()),2&o){const d=t.XpG();t.R7$(),t.JRh(d.result())}}let _=(()=>{var o;class s{constructor(){this.fb=(0,r.WQX)(e.ok),this.facade=(0,r.WQX)(b),this.form=this.fb.nonNullable.group({title:["",[e.k0.required,e.k0.minLength(4)]],organization:["",e.k0.required],category:["",e.k0.required],summary:["",[e.k0.required,e.k0.minLength(12)]],fileName:["",e.k0.required]}),this.status=(0,r.vPA)("idle"),this.progress=this.facade.progress,this.isUploading=this.facade.isUploading,this.result=(0,r.vPA)(null)}submit(){this.form.invalid||"uploading"===this.status()?this.form.markAllAsTouched():(this.status.set("uploading"),this.facade.upload(this.form.getRawValue()).subscribe({next:n=>{this.status.set("complete"),this.result.set(`Submission ${n.id} queued \xb7 ${n.nextStep} (ETA ${n.eta})`),this.form.reset({title:"",organization:"",category:"",summary:"",fileName:""})},error:n=>{this.status.set("error"),this.result.set(n.message)}}))}static#t=o=()=>(this.\u0275fac=function(i){return new(i||s)},this.\u0275cmp=t.VBU({type:s,selectors:[["dr-upload-page"]],decls:24,vars:6,consts:[[1,"upload","section"],[1,"container"],["title","Upload organization assessments","subtitle","Share structured assessments, readiness scans or checklists with the DocRoster review team.","badge","Uploader"],[1,"upload__form",3,"ngSubmit","formGroup"],["type","text","formControlName","title","placeholder","Northstar Quality Sprint"],["type","text","formControlName","organization","placeholder","Northstar Health Alliance"],["type","text","formControlName","category","placeholder","Care coordination"],["formControlName","summary","rows","4","placeholder","Outline the goal, scope and next actions"],["type","text","formControlName","fileName","placeholder","assessment.pdf"],["type","submit",1,"button",3,"disabled"],["class","upload__progress",4,"ngIf"],["class","upload__message",4,"ngIf"],["class","upload__error",4,"ngIf"],[1,"upload__progress"],[1,"upload__message"],[1,"upload__error"]],template:function(i,l){1&i&&(t.j41(0,"section",0)(1,"div",1),t.nrm(2,"dr-section-header",2),t.j41(3,"form",3),t.bIt("ngSubmit",function(){return l.submit()}),t.j41(4,"label"),t.EFF(5," Title "),t.nrm(6,"input",4),t.k0s(),t.j41(7,"label"),t.EFF(8," Organization "),t.nrm(9,"input",5),t.k0s(),t.j41(10,"label"),t.EFF(11," Category "),t.nrm(12,"input",6),t.k0s(),t.j41(13,"label"),t.EFF(14," Summary "),t.nrm(15,"textarea",7),t.k0s(),t.j41(16,"label"),t.EFF(17," File name (mock) "),t.nrm(18,"input",8),t.k0s(),t.j41(19,"button",9),t.EFF(20),t.k0s(),t.DNE(21,v,3,1,"div",10)(22,C,2,1,"p",11)(23,P,2,1,"p",12),t.k0s()()()),2&i&&(t.R7$(3),t.Y8G("formGroup",l.form),t.R7$(16),t.Y8G("disabled",l.isUploading()),t.R7$(),t.SpI(" ",l.isUploading()?"Uploading\u2026":"Submit for review"," "),t.R7$(),t.Y8G("ngIf",l.isUploading()),t.R7$(),t.Y8G("ngIf","complete"===l.status()),t.R7$(),t.Y8G("ngIf","error"===l.status()))},dependencies:[e.X1,e.qT,e.me,e.BC,e.cb,e.j4,e.JD,g.bT,m.U],styles:[".upload[_ngcontent-%COMP%]{background:#eef1ff}.upload__form[_ngcontent-%COMP%]{display:grid;gap:1rem;max-width:640px;margin:0 auto}.upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:grid;gap:.35rem;font-weight:600}.upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{padding:.85rem 1rem;border-radius:12px;border:1px solid rgba(213,220,240,.9);font-size:1rem}.upload__form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:vertical}.upload__progress[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:.75rem 1rem;color:#3d7aff}.upload__message[_ngcontent-%COMP%]{color:#21b128}.upload__error[_ngcontent-%COMP%]{color:#ff3d00}"],changeDetection:0}))}return o(),s})()}}]);