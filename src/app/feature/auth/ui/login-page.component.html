<section class="auth auth--login">
  <div class="auth__frame">
    <div class="auth__card">

      <div class="auth__providers">
        <button type="button" class="auth__provider" aria-label="Sign in with Google">
          <img src="assets/figma/login/google.png" alt="" class="auth__provider-icon" />
          <span class="auth__provider-label">Sign in</span>
        </button>
        <button type="button" class="auth__provider" aria-label="Sign in with Apple">
          <img src="assets/figma/login/apple.png" alt="" class="auth__provider-icon" />
          <span class="auth__provider-label">Sign in</span>
        </button>
      </div>

      <div class="auth__divider" aria-hidden="true">
        <span class="auth__divider-line"></span>
        <span class="auth__divider-label">OR</span>
        <span class="auth__divider-line"></span>
      </div>

      <form [formGroup]="form" (ngSubmit)="submit()" class="auth__form" novalidate>
        <p class="auth__form-error" *ngIf="showValidationErrors()">Please enter a valid email and password.</p>

        <label class="auth__field auth__field--email" [class.auth__field--invalid]="isEmailInvalid()">
          <input
            type="email"
            formControlName="email"
            placeholder="Email address"
            autocomplete="email"
            [attr.aria-invalid]="isEmailInvalid()"
            aria-describedby="auth-email-error"
          />
        </label>

        <label class="auth__field auth__field--password" [class.auth__field--invalid]="isPasswordInvalid()">
          <input
            type="password"
            formControlName="password"
            placeholder="Password"
            autocomplete="current-password"
            [attr.aria-invalid]="isPasswordInvalid()"
            aria-describedby="auth-password-error"
          />
          <button type="button" class="auth__field-help" aria-label="Forgot password?" (click)="openRecovery()">
            <img src="assets/figma/login/help.png" alt="" />
          </button>
        </label>

        <button class="auth__submit" type="submit" [disabled]="status() === 'pending'">
          <span>{{ status() === 'pending' ? 'Signing in…' : 'Sign in to DocRoster' }}</span>
        </button>

        <p id="auth-email-error" class="auth__field-message" *ngIf="isEmailInvalid()">Enter a valid email.</p>
        <p id="auth-password-error" class="auth__field-message auth__field-message--password" *ngIf="isPasswordInvalid()">Password must be at least 6 characters.</p>

        <p class="auth__form-status auth__form-status--error" *ngIf="status() === 'error'">{{ errorMessage() }}</p>
        <p class="auth__form-status auth__form-status--success" *ngIf="status() === 'success'">Signed in — redirecting…</p>
      </form>

      <p class="auth__footnote">
        <span>Don’t have an account? </span>
        <a routerLink="/auth/register">Register now</a>
      </p>
    </div>
  </div>
</section>
